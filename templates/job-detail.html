{% extends 'base.html' %}
{% load static %}
{% block base %}
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/job-application.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/job-detail.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/openjobs.css' %}" />
    <section class="section__container">
        <main class="job__content__container">
            <div class="job__content__left">
                <div class="content__title">{{ job.job_title }} <span>Developers </span></div>
                <div>
                    {{  job.job_description|safe }}

                </div>
                <div >
                        <a href="/apply/{{ job.id }}" style="text-decoration: none; cursor: pointer" class="btn__primary__home applynow__btn">Apply now</a>
                    </div>
                <div class="share__to__social__container">


                    <span class="social__media__icons__list">
                        <span style="font-weight: 500">share to</span>
                        <a href="https://www.facebook.com/sharer/sharer.php?u={{ request.build_absolute_uri }}">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" id="facebook">
                            <path fill="#3B5998"
                                d="M12 1.5C6.2 1.5 1.5 6.2 1.5 12S6.2 22.5 12 22.5 22.5 17.8 22.5 12 17.8 1.5 12 1.5zm2.97 6.63a.19.19 0 0 1-.19.19l-1.19.001c-.79 0-.93.31-.93.91v1.25h2.05c.054 0 .105.023.14.064s.052.094.045.147l-.29 2.26a.187.187 0 0 1-.186.163h-1.76v5.602a.188.188 0 0 1-.187.187h-2.31a.188.188 0 0 1-.187-.187v-5.602H8.95a.187.187 0 0 1-.187-.187v-2.26c0-.103.084-.187.187-.187h1.76V9.12c0-1.957 1.184-3.17 3.09-3.17.82 0 1.544.061 1.766.09a.188.188 0 0 1 .163.186v2.018z" />
                        </svg>
                        </a>
                        <a href="https://twitter.com/intent/tweet?url={{ request.build_absolute_uri }}" target="_blank">

                        <svg xmlns="http://www.w3.org/2000/svg" width="24" fill="#00ACED" height="24"
                            viewBox="0 0 24 24" id="twitter">
                            <path
                                d="M24 5.309a10.259 10.259 0 0 1-2.835.777 4.893 4.893 0 0 0 2.165-2.72 9.833 9.833 0 0 1-3.12 1.191 4.92 4.92 0 0 0-8.511 3.365c0 .39.033.765.114 1.122a13.926 13.926 0 0 1-10.142-5.147 4.928 4.928 0 0 0 1.512 6.576 4.86 4.86 0 0 1-2.23-.616v.054a4.943 4.943 0 0 0 3.942 4.835 4.911 4.911 0 0 1-1.29.162 4.35 4.35 0 0 1-.932-.084 4.967 4.967 0 0 0 4.598 3.427 9.885 9.885 0 0 1-6.101 2.099c-.404 0-.791-.018-1.178-.068a13.851 13.851 0 0 0 7.548 2.21c9.054 0 14.004-7.5 14.004-14.001 0-.218-.008-.428-.018-.636A10.316 10.316 0 0 0 24 5.309z" />
                        </svg>
                        </a>

{#                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"#}
{#                            id="pinterest">#}
{#                            <path fill="#CC2127"#}
{#                                d="M12 0C5.373 0 0 5.372 0 12c0 4.913 2.955 9.135 7.184 10.991-.034-.837-.006-1.845.208-2.756.23-.974 1.543-6.538 1.543-6.538s-.382-.767-.382-1.9c0-1.778 1.032-3.106 2.315-3.106 1.09 0 1.618.82 1.618 1.802 0 1.096-.7 2.738-1.06 4.258-.3 1.274.638 2.311 1.894 2.311 2.274 0 3.805-2.92 3.805-6.38 0-2.63-1.772-4.598-4.993-4.598-3.64 0-5.908 2.714-5.908 5.745 0 1.047.308 1.784.79 2.354.224.264.253.368.172.67-.056.219-.189.753-.244.963-.08.303-.326.413-.6.3-1.678-.684-2.458-2.52-2.458-4.585 0-3.408 2.875-7.497 8.576-7.497 4.582 0 7.598 3.318 7.598 6.875 0 4.708-2.617 8.225-6.476 8.225-1.294 0-2.513-.7-2.931-1.495 0 0-.697 2.765-.844 3.298-.254.925-.752 1.85-1.208 2.57 1.08.319 2.22.493 3.4.493C18.627 24 24 18.627 24 12 24 5.372 18.627 0 12 0" />#}
{#                        </svg>#}
                    </span>

                    <div class="copy__link__btn">
                        <input id="job_link" value="{{ request.build_absolute_uri }}" class="copy__input" />
                        <button onclick=copyURL("job_link") class="copy__btn">Copy</button>
                    </div>


                </div>
                <aside class="opportunities__right Similar__Opportunities__container">
                    <div  class="content__title">Similar <span>Opportunities</span></div>
                    {% for rec in recommendation %}
                        <div class="opportunities__card">
                        <h4>{{ rec.job_title }} </h4>
                        <div class="type__opportunities__container">
                            <span class="type__opportunities">{{ rec.get_job_type_display }} </span>
                            <span>{{ rec.get_job_mode_display }}</span>
                        </div>
                        <p>{{ rec.job_summary }}</p>
                        <div class="see__positions__container">

                            <a href="/job/{{ rec.slug }}" style="text-decoration: none" class="see__position__btn ">See positions <svg xmlns="http://www.w3.org/2000/svg"
                                    fill="none" viewBox="0 0 24 24" stroke-width="1.5" width="16" height="16"
                                    stroke="currentColor" class="size-6">
                                    <path stroke-linecap="round" stroke-linejoin="round"
                                        d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
                                </svg>
                            </a>
                        </div>
                    </div>
                    {% endfor %}

                </aside>
            </div>
            <form method="post" action="/apply/{{ job.id }}" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="job__content__right">
                <div class="header__fast__reply">
                    <h4>Fast Apply</h4>
                </div>

                <input name="first_name" placeholder="Your first name" class="input__form" />
                <input name="last_name" placeholder="Your last name" class="input__form" />
                <input name="email" placeholder="Enter your email" class="input__form" />
                <input name="phone_number" placeholder="Enter your phone number" class="input__form" />
                <div onclick="browseFile()"  class="uploader__image uploder__right">
                    <div  class="uploader__center">
                        <p>Upload your resume</p>
                        <button class="brows__btn" type="button">Browse</button>
                        <input type="file" name="resume" id="fileInput" style="display: none;"  onchange="handleFileSelect(event)">
                    </div>
                </div>

                <button type="submit" style="cursor: pointer; text-decoration: none" class="  btn__primary__home   applynow__btn__right">Apply Now</button>


            </div>
            </form>
        </main>
    </section>
    <script>
    function browseFile() {
            document.getElementById('fileInput').click();
        }

        function handleFileSelect(event) {
            const file = event.target.files[0];
        }
        function copyURL(elementId) {
          // Get the text from the specified element
          var textToCopy = document.getElementById(elementId).innerText;

          // Create a temporary textarea element
          var tempTextArea = document.createElement("textarea");
          tempTextArea.value = textToCopy;
          document.body.appendChild(tempTextArea);

          // Select the text
          tempTextArea.select();
          tempTextArea.setSelectionRange(0, 99999); // For mobile devices

          // Copy the text
          document.execCommand("copy");

          // Remove the temporary textarea
          document.body.removeChild(tempTextArea);

          // Alert the user
          alert("Url copied");
        }

    </script>
{% endblock %}